function loop(){window.requestAnimationFrame(loop),tick+=opts.hueSpeed,ctx.shadowBlur=0,ctx.fillStyle="rgba(32,35,45,alp)".replace("alp",opts.repaintAlpha),ctx.fillRect(0,0,w,h);for(var a=0;a<opts.picksParTick;++a)hexs[Math.random()*hexs.length|0].pick();hexs.map(function(a){a.step()})}function Hex(a,b){this.x=a,this.y=b,this.sum=this.x+this.y,this.picked=!1,this.time=0,this.targetTime=0,this.xs=[this.x+cos,this.x,this.x-cos,this.x-cos,this.x,this.x+cos],this.ys=[this.y-sin,this.y-opts.side,this.y-sin,this.y+sin,this.y+opts.side,this.y+sin]}var w=dotty.width=window.innerWidth,h=dotty.height=window.innerHeight,sum=w+h,ctx=dotty.getContext("2d"),opts={side:15,picksParTick:2,baseTime:40,addedTime:10,colors:["rgba(70,178,157,alp)","rgba(240,202,77,alp)","rgba(227,123,64,alp)"],addedAlpha:20,strokeColor:"rgb(28,29,35)",hueSpeed:.2,repaintAlpha:1},difX=Math.sqrt(3)*opts.side/2,difY=3*opts.side/2,rad=Math.PI/6,cos=Math.cos(rad)*opts.side,sin=Math.sin(rad)*opts.side,hexs=[],tick=0;Hex.prototype.pick=function(){this.color=opts.colors[Math.random()*opts.colors.length|0],this.picked=!0,this.time=this.time||0,this.targetTime=this.targetTime||opts.baseTime+opts.addedTime*Math.random()|0},Hex.prototype.step=function(){var a=this.time/this.targetTime;ctx.beginPath(),ctx.moveTo(this.xs[0],this.ys[0]);for(var b=1;b<this.xs.length;++b)ctx.lineTo(this.xs[b],this.ys[b]);ctx.lineTo(this.xs[0],this.ys[0]),this.picked?(++this.time,this.time>=this.targetTime&&(this.time=0,this.targetTime=0,this.picked=!1),ctx.fillStyle=ctx.shadowColor=this.color.replace("alp",Math.sin(a*Math.PI)),ctx.fill()):(ctx.strokeStyle=ctx.shadowColor=opts.strokeColor,ctx.stroke())};for(var x=0;x<w;x+=2*difX)for(var i=0,y=0;y<h;y+=difY)++i,hexs.push(new Hex(x+difX*(i%2),y));loop(),window.addEventListener("resize",function(){w=dotty.width=window.innerWidth,h=dotty.height=window.innerHeight,sum=w+h,hexs.length=0;for(var a=0;a<w;a+=2*difX)for(var b=0,c=0;c<h;c+=difY)++b,hexs.push(new Hex(a+difX*(b%2),c))}),$(window).load(function(){"use strict";setTimeout(function(){$("#preloader").velocity({opacity:"0",complete:function(){$("#loading").velocity("fadeOut",{duration:1e3,easing:[.7,0,.3,1]})}})},1e3),setTimeout(function(){$(".global-overlay").velocity({translateX:"100%",opacity:"1"},{duration:1e3,easing:[.7,0,.3,1]}),$(".map-container").addClass("fadeInRight").removeClass("opacity-0")},1e3),setTimeout(function(){$("#left-side").velocity({opacity:"1",complete:function(){setTimeout(function(){$(".text-intro").each(function(a){!function(b){setTimeout(function(){$(b).addClass("animated-middle fadeInUp").removeClass("opacity-0")},150*a+150)}(this)})},0)}},{duration:1e3,easing:[.7,0,.3,1]})},1600)}),$(document).ready(function(){"use strict";function a(){b?($("body").addClass("scroll-touch"),$("a#open-more-info").on("click",function(){event.preventDefault();var a="#"+this.getAttribute("data-target");$("body").animate({scrollTop:$(a).offset().top},500)})):$("body").mCustomScrollbar({scrollInertia:150,axis:"y"})}$("a#open-more-info").on("click",function(){$(".overlay").toggleClass("skew-part"),$("#right-side").toggleClass("hide-right"),$("#close-more-info").toggleClass("hide-close"),$(".mCSB_scrollTools").toggleClass("mCSB_scrollTools-left"),setTimeout(function(){$("#mcs_container").mCustomScrollbar("scrollTo","#right-side",{scrollInertia:500,callbacks:!1})},350)}),$("button#close-more-info").on("click",function(){$(".overlay").addClass("skew-part"),$("#right-side").addClass("hide-right"),$("#close-more-info").addClass("hide-close"),$(".mCSB_scrollTools").removeClass("mCSB_scrollTools-left"),setTimeout(function(){$("#mcs_container").mCustomScrollbar("scrollTo","#right-side",{scrollInertia:500,callbacks:!1})},350)}),$(".expand-player").on("click",function(){$("#left-side").velocity({opacity:"0",complete:function(){$(".global-overlay").velocity({translateX:"-100%",opacity:"0"},{duration:1e3,easing:[.7,0,.3,1],delay:500})}})}),$(".compress-player").on("click",function(){$(".global-overlay").velocity({translateX:"100%",opacity:"1"},{duration:1e3,easing:[.7,0,.3,1],delay:0,complete:function(){$("#left-side").velocity({opacity:"1"})}})}),$(function(){$("body").bind("mousewheel",function(a){a.preventDefault();var b=this.scrollTop;this.scrollTop=b+a.deltaY*a.deltaFactor*-1})});var b=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|Windows Phone)/);a(),window.matchMedia("(min-width: 1025px)").matches&&$(function(){$("[data-toggle='tooltip']").tooltip()}),$("#notifyMe").notifyMe(),function(){var a=document.querySelector("[data-dialog]"),b=document.getElementById(a.getAttribute("data-dialog")),c=new DialogFx(b);a.addEventListener("click",c.toggle.bind(c))}();var c=function(a){for(var b=function(a){for(var e,f,g,h,b=a.childNodes,c=b.length,d=[],i=0;c>i;i++)e=b[i],1===e.nodeType&&(f=e.children[0],g=f.getAttribute("data-size").split("x"),h={src:f.getAttribute("href"),w:parseInt(g[0],10),h:parseInt(g[1],10)},e.children.length>1&&(h.title=e.children[1].innerHTML),f.children.length>0&&(h.msrc=f.children[0].getAttribute("src")),h.el=e,d.push(h));return d},c=function a(b,c){return b&&(c(b)?b:a(b.parentNode,c))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var j,e=d.parentNode,g=d.parentNode.childNodes,h=g.length,i=0,k=0;h>k;k++)if(1===g[k].nodeType){if(g[k]===d){j=i;break}i++}return j>=0&&f(j,e),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b},f=function(a,c,d,e){var g,h,i,f=document.querySelectorAll(".pswp")[0];if(i=b(c),h={galleryUID:c.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=i[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}}},e)if(h.galleryPIDs){for(var j=0;j<i.length;j++)if(i[j].pid===a){h.index=j;break}}else h.index=parseInt(a,10)-1;else h.index=parseInt(a,10);isNaN(h.index)||(d&&(h.showAnimationDuration=0),g=new PhotoSwipe(f,PhotoSwipeUI_Default,i,h),g.init())},g=document.querySelectorAll(a),h=0,i=g.length;i>h;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid&&j.gid&&f(j.pid,g[j.gid-1],!0,!0)};c(".my-gallery")});
